<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ììœ ê²Œì‹œíŒ</title>

  <!-- Bootstrap 4.5.2 + jQuery -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- ê³µí†µ CSS -->
  <link rel="stylesheet" th:href="@{/css/common/header.css}" />
  <link rel="stylesheet" th:href="@{/css/common/footer.css}" />
  <!-- HEAD ë¶€ë¶„ì— Cinzel í°íŠ¸ ì¶”ê°€ -->
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap" rel="stylesheet" />
  
  <style>
  
    body {
      background-color: #0b0b0b;
      font-family: 'Noto Sans KR', sans-serif;
      color: #fff;
    }

    .board-wrapper {
	  background-color: #fff;
	  color: #333;
	  border-radius: 12px;
	  padding: 30px;
	  box-shadow: 0 0 20px rgba(255, 255, 255, 0.05);
	
	  max-width: 1000px;   /* âœ… ì´ ë¶€ë¶„ ì¶”ê°€ */
	  margin: 40px auto;      /* âœ… ì¤‘ì•™ ì •ë ¬ */
	}

    .main-tabs a {
      font-weight: bold;
      color: #999;
      text-decoration: none;
      margin-right: 24px;
      font-size: 18px;
      border-bottom: 3px solid transparent;
      padding-bottom: 5px;
    }

    .main-tabs a.active {
      color: #c82e38;
      border-color: #c82e38;
    }

    .sub-tabs, .team-tabs, .role-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin: 20px 0;
    }

    .sub-tabs a, .team-tabs a, .role-tabs a {
      padding: 6px 18px;
      border-radius: 20px;
      background-color: #f1f1f1;
      color: #333;
      font-size: 14px;
      text-decoration: none;
      transition: all 0.2s;
    }

    .sub-tabs a.active, .team-tabs a.active, .role-tabs a.active {
      background-color: #c82e38;
      color: #fff;
    }

    .search-bar {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .search-bar select, .search-bar input {
      border: 1px solid #ccc;
      padding: 7px 14px;
      border-radius: 25px;
      font-size: 14px;
    }

    .search-bar input {
      width: 200px;
    }

    .search-bar button {
      background-color: #444;
      color: white;
      padding: 7px 16px;
      border: none;
      border-radius: 25px;
      transition: all 0.2s;
    }

    .search-bar button:hover {
      background-color: #c82e38;
    }

    .write-btn {
      float: right;
      background-color: #444;
      color: white;
      border: none;
      padding: 7px 18px;
      border-radius: 25px;
      margin-bottom: 10px;
      transition: all 0.2s;
    }

    .write-btn:hover {
      background-color: #c82e38;
    }

    table.board-table {
      width: 100%;
      border-top: 2px solid #ccc;
      margin-bottom: 20px;
    }

    table.board-table th, table.board-table td {
      padding: 14px;
      text-align: center;
      font-size: 14px;
    }

    table.board-table th {
      background-color: #f9f9f9;
      font-weight: 600;
    }

    table.board-table td {
      border-bottom: 1px solid #eee;
    }

    .board-tag {
      display: inline-block;
      background-color: #b33939;
      color: #fff;
      font-size: 12px;
      padding: 3px 8px;
      border-radius: 12px;
      margin-right: 8px;
      vertical-align: middle;
    }

    .post-title {
	  color: #222;
	  font-weight: 600;
	  font-size: 16px;
	  text-decoration: none;
	  display: inline;        /* inlineìœ¼ë¡œ ë˜ëŒë¦¼ */
	}
	
	.post-title:hover {
	  color: #c82e38;
	  text-decoration: none;
	}

    .pagination {
      justify-content: center;
      margin-top: 20px;
    }

    .pagination li a {
      color: #333;
      background-color: #f1f1f1;
      border: 1px solid #ccc;
      margin: 0 3px;
      padding: 6px 12px;
      border-radius: 5px;
      transition: all 0.2s;
    }

    .pagination li.active a {
      background-color: #c82e38;
      border-color: #c82e38;
      color: #fff !important;
    }

    .team-tabs, .role-tabs {
      display: none;
    }

    .badge-icon {
	  width: 24px;
	  height: 24px;
	  margin-right: 0;
	  border-radius: 4px;
	  object-fit: cover;
	  border: 1px solid rgba(255, 255, 255, 0.4);
	  box-shadow: 0 0 6px rgba(255, 255, 255, 0.25);
	  background-color: #fff;
	  vertical-align: middle;
	}

    .nickname {
	  font-weight: 500;
	  background: linear-gradient(to right, #111, #444);
	  -webkit-background-clip: text;
	  -webkit-text-fill-color: transparent;
	  padding-left : 0;
	}
    
    .comment-count {
	  font-size: 14px;
	  font-weight: 600;
	  color: #c82e38;
	  margin-left: 4px;
	  vertical-align: baseline; /* âœ… ê¸°ì¤€ì„ ì— ë§ì¶¤ */
	  line-height: 1;
	  padding : 0;
	  margin-left : 1;
	}
		
	.board-table tbody tr:hover {
	  background-color: #fdf1f1;
	  transition: background-color 0.2s;
	}
	
	table.board-table tbody tr td {
	  border-bottom: 1px solid #ddd;
	}
	
	.new-label {
	  display: inline-block;
	  background-color: #f2dede;  /* ì€ì€í•œ ì—°ë¶„í™ ë°°ê²½ */
	  color: #a94442;             /* ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ë‹¤í™ í…ìŠ¤íŠ¸ */
	  font-size: 11px;
	  font-weight: 600;
	  padding: 2px 6px;
	  margin-left: 6px;
	  border-radius: 8px;
	  vertical-align: middle;
	  border: 1px solid #ebcccc;
	}
	
	.wanted-row {
	  background-color: rgba(200, 46, 56, 0.05);
	  border-left: 4px solid #c82e38;
	  transition: background-color 0.2s;
	}
	
	.wanted-row:hover {
	  background-color: rgba(200, 46, 56, 0.1);
	}
	
	.wanted-title {
	  font-weight: bold;
	  font-size: 15px;
	  color: #222;
	  text-decoration: none;
	}
	
	.wanted-title:hover {
	  color: #c82e38;
	  text-decoration: underline;
	}
	
	.wanted-author {
	  font-size: 13px;
	  color: #666;
	  margin-left: 10px;
	}
	
	.wanted-likes {
	  font-size: 13px;
	  font-weight: bold;
	  color: #c82e38;
	  margin-left: 12px;
	}
	
	
	.top5-likes {
	  background-color: #121212; /* ì•„ì£¼ ì§„í•œ ì°¨ì½œ */
	  border-radius: 14px;
	  padding: 22px 28px;
	  color: #f4f4f4;
	  max-width: 1000px;
	  margin: 0 auto 36px auto;
	  font-family: 'Cinzel', serif;
	  box-shadow:
	    0 0 18px rgba(200, 30, 40, 0.5),
	    inset 0 0 30px rgba(180, 30, 40, 0.25);
	  border: 1.5px solid rgba(200, 30, 40, 0.7);
	}
	
	.top5-likes h3 {
	  font-size: 24px;
	  font-weight: 700;
	  margin-bottom: 18px;
	  color: #e03e3e;
	  letter-spacing: 1.8px;
	  text-shadow:
	    0 0 8px #e03e3e,
	    0 0 20px #930000;
	  display: flex;
	  align-items: center;
	  gap: 8px;
	}
	
	/* ë¶ˆê½ƒ ëŒ€ì‹  ì‹¬í”Œ â–¶ï¸ ì•„ì´ì½˜ì„ í…ìŠ¤íŠ¸ ì•ì— */
	.top5-likes h3::before {
	  content: "â–¶ï¸";
	  font-size: 28px;
	  color: #e03e3e;
	  text-shadow:
	    0 0 6px #e03e3e,
	    0 0 14px #930000;
	}
	
	.top5-cards {
	  display: flex;
	  gap: 22px;
	  overflow-x: auto;
	  padding-bottom: 6px;
	  scrollbar-width: thin;
	  scrollbar-color: #b83232 transparent;
	}
	
	.top5-cards::-webkit-scrollbar {
	  height: 6px;
	}
	.top5-cards::-webkit-scrollbar-thumb {
	  background-color: #b83232;
	  border-radius: 4px;
	  box-shadow: 0 0 8px #b83232;
	}
	
	.top5-card {
      position: relative;
	  overflow: hidden;
	  background: linear-gradient(145deg, #1e1e1e, #2c0a0a);
	  border-radius: 14px;
	  flex: 0 0 200px;
	  padding: 16px 18px;
	  box-shadow:
	    0 0 6px #8a0f0f,
	    inset 0 0 12px #3b0000;
	  cursor: pointer;
	}
	
	/* ë¹› íš¨ê³¼ë¥¼ ìœ„í•œ ê°€ìƒ ìš”ì†Œ */
	.top5-card::before {
	  content: "";
	  position: absolute;
	  top: 0;
	  left: -75%;
	  width: 50%;
	  height: 100%;
	  background: linear-gradient(
	    120deg,
	    rgba(255, 255, 255, 0.1) 0%,
	    rgba(255, 255, 255, 0.3) 50%,
	    rgba(255, 255, 255, 0.1) 100%
	  );
	  transform: skewX(-20deg);
	  pointer-events: none;
	  opacity: 0;
	}
	
	/* ë¹› ì• ë‹ˆë©”ì´ì…˜ */
	@keyframes shine-once {
	  0% {
	    left: -75%;
	    opacity: 0;
	  }
	  20% {
	    opacity: 1;
	  }
	  100% {
	    left: 125%;
	    opacity: 0;
	  }
	}
	
	.top5-card:hover {
	  background: linear-gradient(145deg, #282828, #3a0a0a);
	  box-shadow:
	    0 0 8px rgba(255, 60, 60, 0.3),
	    inset 0 0 18px rgba(180, 30, 40, 0.4);
	}
	
	/* hover ì‹œ ë¹› íš¨ê³¼ ë°œë™ */
	.top5-card:hover::before {
	   animation: shine-once 0.8s ease;
	}
	
	
	/* ì¹´ë“œ ì „ì²´ë¥¼ a íƒœê·¸ë¡œ ê°ìŒ€ ë•Œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” */
	.top5-card-link {
	  text-decoration: none;
	  color: inherit; /* ë‚´ë¶€ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ê¸°ë³¸ ìœ ì§€ */
	  display: block;
	  flex: 0 0 200px;
	  transition: transform 0.3s ease, box-shadow 0.3s ease;
	}
	
	.top5-card-link * {
	  text-decoration: none !important;
	  color: inherit !important;
	}
	
	.top5-card-link:hover,
	.top5-card-link:hover * {
	  color: inherit !important;
	  text-decoration: none !important;
	}
	
	/* í˜¸ë²„ ì‹œ ì¹´ë“œ ìŠ¤íƒ€ì¼ì€ ë‚´ë¶€ ì¹´ë“œì— ìœ„ì„ */
	.top5-card-link:hover .top5-card {
	  background: linear-gradient(145deg, #2b2b2b, #3d0f0f);
	  box-shadow:
	    0 6px 12px rgba(255, 60, 60, 0.3),
	    inset 0 0 12px rgba(180, 30, 40, 0.4);
	}
	
	
	.top5-title {
	  font-size: 17px;
	  font-weight: 700;
	  color: #f4f4f4;
	  text-decoration: none;
	  display: block;
	  margin-bottom: 12px;
	  white-space: nowrap;
	  overflow: hidden;
	  text-overflow: ellipsis;
	  text-shadow: 0 0 6px #9e1c1c;
	}
	
	.top5-title:hover {
	  color: #ff6b6b;
	  text-decoration: none;
	}
	
	.top5-info {
	  font-size: 14px;
	  display: flex;
	  align-items: center;
	  gap: 10px;
	  color: #d7d7d7;
	}
	
	.top5-badge {
	  width: 40px;
	  height: 40px;
	  border-radius: 12px;
	  object-fit: cover;
	  flex-shrink: 0;
	
	  background-color: transparent;
	  padding: 0;
	
	  border: 1px solid rgba(255, 255, 255, 0.1); /* ê±°ì˜ íˆ¬ëª…í•œ í…Œë‘ë¦¬ */
	  box-shadow: none;
	  transition: transform 0.15s ease;
	}
	
	.top5-nickname {
	  font-weight: 600;
	  color: #ff6b6b;
	  white-space: nowrap;
	  overflow: hidden;
	  text-overflow: ellipsis;
	  max-width: 90px;
	  text-shadow: 0 0 4px #b53535;
	}
	
	.top5-likes-count {
	  color: #ff4b4b;
	  font-weight: 700;
	  display: flex;
	  align-items: center;
	  gap: 6px;
	  min-width: 40px;
	  white-space: nowrap;
	  text-shadow: 0 0 8px #ff2929;
	}
	
	/* ì¢‹ì•„ìš” ì•„ì´ì½˜ì€ SVGë¡œ ë°”ê¾¸ë©´ ë” ê³ ê¸‰ìŠ¤ëŸ¬ì›€ */
	/* ì„ì‹œë¡œ í…ìŠ¤íŠ¸ ëŒ€ì‹  ì•„ë˜ì²˜ëŸ¼ ì‹¬í”Œ í•˜íŠ¸ ì•„ì´ì½˜ ë„£ì–´ë„ ì¢‹ì•„ */
	
	.top5-likes-count::before {
	  content: "â¤";
	  font-size: 16px;
	  color: #ff2b2b;
	  text-shadow: 0 0 8px #ff3b3b;
	  margin-right: 4px;
	}
	
	.top5-date {
	  margin-left: auto;
	  color: #b8b8b8;
	  font-style: italic;
	  white-space: nowrap;
	  text-shadow: 0 0 4px #6f6f6f;
	}
	
	.top5-comment-count {
	  font-size: 13px;
	  font-weight: 600;
	  color: #ff4b4b;
	  margin-left: 6px;
	  vertical-align: middle;
	  text-shadow: 0 0 6px #ff2b2b;
	}
		
	  </style>
</head>
<body>

  <div th:replace="common/header :: header"></div>

  <div class="board-wrapper">
    <div class="main-tabs mb-4" th:object="${filterMap}">
      <a th:href="@{/board/lounge}" th:class="*{typeName == null || typeName == '' || 
      											typeName == 'ììœ ' || typeName == 'í”Œë ˆì´' ||
      											typeClass == '3' ? 'active' : ''}">ë¼ìš´ì§€</a>
      <a th:href="@{/board/gallery}">ê°¤ëŸ¬ë¦¬</a>
      <a th:href="@{/board/video}">í•˜ì´ë¼ì´íŠ¸ ì˜ìƒ</a>
    </div>

    <div class="sub-tabs" th:object="${filterMap}">
      <a th:href="@{/board/lounge}" th:class="*{typeName == null || typeName == '' ? 'active' : ''}">ì „ì²´</a>
      <a th:href="@{/board/lounge(typeName='ììœ ')}" th:class="*{typeName == 'ììœ ' ? 'active' : ''}">ììœ </a>
      <a th:href="@{/board/lounge(typeName='í”Œë ˆì´')}" th:class="*{typeName == 'í”Œë ˆì´' ? 'active' : ''}">í”Œë ˆì´</a>
      <a th:href="@{/board/lounge(typeName='ì§ì—…')}" th:class="*{typeClass != null AND typeClass == '3' ? 'active' : ''}">ì§ì—…</a>
    </div>

    <!-- ì§ì—… íƒ­ ì„ íƒ ì‹œ í‘œì‹œë  íŒ€ íƒ­ -->
    <div id="teamTabs" class="team-tabs" th:object="${filterMap}">
      <a th:href="@{/board/lounge(typeName='ì§ì—…')}" class="team-tab" data-team="all"
      th:classappend="*{typeName == 'ì§ì—…' ? ' active' : ''}">ì „ì²´</a>
      <a href="#" class="team-tab" data-team="mafia" id="team-mafia">íŒ€ ë§ˆí”¼ì•„</a>
      <a href="#" class="team-tab" data-team="citizen" id="team-citizen">íŒ€ ì‹œë¯¼</a>
      <a href="#" class="team-tab" data-team="third" id="team-third">íŒ€ ì œ3ì„¸ë ¥</a>
    </div>

    <!-- ê° íŒ€ë³„ ì§ì—… íƒ­ -->
    <div id="roleTabs-mafia" class="role-tabs" th:object="${filterMap}">
      <a th:href="@{/board/lounge(typeName='ë§ˆí”¼ì•„')}" data-job="mafia" id="mafia"
      th:class="*{typeName == 'ë§ˆí”¼ì•„' ? 'active' : ''}">ë§ˆí”¼ì•„</a>
    </div>

    <div id="roleTabs-citizen" class="role-tabs" th:object="${filterMap}">
      <a th:href="@{/board/lounge(typeName ='ê²½ì°°')}" data-job="police" id="police"
      th:class="*{typeName == 'ê²½ì°°' ? 'active' : ''}">ê²½ì°°</a>
      <a th:href="@{/board/lounge(typeName='ì˜ì‚¬')}" data-job="doctor" id="doctor"
      th:class="*{typeName == 'ì˜ì‚¬' ? 'active' : ''}">ì˜ì‚¬</a>
      <a th:href="@{/board/lounge(typeName='ì •ì¹˜ì¸')}" data-job="politician" id="politician"
      th:class="*{typeName == 'ì •ì¹˜ì¸' ? 'active' : ''}">ì •ì¹˜ì¸</a>
      <a th:href="@{/board/lounge(typeName='ì—°ì¸')}" data-job="marriage" id="marriage"
      th:class="*{typeName == 'ì—°ì¸' ? 'active' : ''}">ì—°ì¸</a>
      <a th:href="@{/board/lounge(typeName='êµ°ì¸')}" data-job="soldier" id="soldier"
      th:class="*{typeName == 'êµ°ì¸' ? 'active' : ''}">êµ°ì¸</a>
      <a th:href="@{/board/lounge(typeName='ì˜ˆì–¸ì')}" data-job="prophet" id="prophet"
      th:class="*{typeName == 'ì˜ˆì–¸ì' ? 'active' : ''}">ì˜ˆì–¸ì</a>
      <a th:href="@{/board/lounge(typeName='ì˜ë§¤ì‚¬')}" data-job="spiritualist" id="spiritualist"
      th:class="*{typeName == 'ì˜ë§¤ì‚¬' ? 'active' : ''}">ì˜ë§¤ì‚¬</a>
    </div>

    <div id="roleTabs-third" class="role-tabs" th:object="${filterMap}">
      <a th:href="@{/board/lounge(typeName='í›¼ë°©ê¾¼')}" data-job="disruptor" id="disruptor"
      th:class="*{typeName == 'í›¼ë°©ê¾¼' ? 'active' : ''}">í›¼ë°©ê¾¼</a>
      <a th:href="@{/board/lounge(typeName='ë„êµ´ê¾¼')}" data-job="robber" id="robber"
      th:class="*{typeName == 'ë„êµ´ê¾¼' ? 'active' : ''}">ë„êµ´ê¾¼</a>
    </div>

    
	
    
	
	<!-- ê²€ìƒ‰ì°½ -->
    <form class="search-bar" method="get" th:action="@{/board/lounge}" th:object="${filterMap}">
      <select name="condition">
        <option value="title" th:selected="*{condition == 'title'}">ì œëª©</option>
        <option value="writer" th:selected="*{condition == 'writer'}">ì‘ì„±ì</option>
        <option value="content" th:selected="*{condition == 'content'}">ë‚´ìš©</option>
      </select>
      <input type="text" name="keyword" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥" th:value="*{keyword}">
      <input type="hidden" name="typeName" th:value="*{typeName}">
      <button type="submit">ê²€ìƒ‰</button>
    </form>
    
	<div style="display: flex; justify-content: flex-end; margin-bottom: 12px;">
	  <button class="write-btn" onclick="location.href='/board/lounge/write'">ê¸€ì“°ê¸°</button>
	</div>
	
	<div class="top5-likes mb-4" th:if="${!#lists.isEmpty(topLikedList)}">
	  <h3>ğŸ”¥ MOST LIKED</h3>
	  <div class="top5-cards">
	    <a th:each="post : ${topLikedList}"
	       th:href="@{/board/lounge/detail/{boardNo}(boardNo=${post.boardNo})}"
	       class="top5-card-link">
	      <div class="top5-card">
	        <div class="top5-title">
	          <span th:text="${post.title}"></span>
	          <span th:if="${post.replyCount > 0}" class="top5-comment-count">
	            [<span th:text="${post.replyCount}"></span>]
	          </span>
	          <span th:if="${post.hasFile == 'Y'}" style="margin-left: 4px;padding-left: 0">ğŸ“</span>
	        </div>
	        <div class="top5-info">
	          <img th:if="${post.profileUrl != null}" th:src="${post.profileUrl}" alt="ë±ƒì§€" class="top5-badge" />
	          <span class="top5-nickname" th:text="${post.nickName}"></span>
	          <span class="top5-likes-count"><span th:text="${post.likeCount}"></span></span>
	          <span class="top5-date" th:text="${post.createDate}"></span>
	        </div>
	      </div>
	    </a>
	  </div>
	</div>
	
	
	<table class="board-table">
	  <thead>
	    <tr>
	      <th></th>
	      <th style="text-align: left;">ì œëª©</th>
	      <th style="text-align: left;">ì‘ì„±ì</th>
	      <th style="text-align: left;">ë‚ ì§œ</th>
	      <th style="text-align: left;">ì¡°íšŒìˆ˜</th>
	    </tr>
	  </thead>
	 
	  
	  <tbody>
	    <!-- âœ… ì¼ë°˜ ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ -->
	    <tr th:if="${#lists.isEmpty(boardList)}">
	      <td colspan="5">ì¡°íšŒëœ ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤</td>
	    </tr>
	    <tr th:each="b : ${boardList}">
	      <td>
	        <span class="board-tag" th:text="${b.typeName}"></span>
	      </td>
	      <td style="text-align: left;">
	        <a th:href="@{/board/lounge/detail/{boardNo}(boardNo=${b.boardNo})}"
	           class="post-title"
	           th:utext="${b.title + (b.replyCount > 0 ? ' <span class=''comment-count''>[' + b.replyCount + ']</span>' : '')}">
	        </a>
	        <span th:if="${b.isNew}" class="new-label">N</span>
	        <span th:if="${b.hasFile == 'Y'}" style="margin-left: 4px;padding-left: 0">ğŸ“</span>
	      </td>
	      <td style="text-align: left;">
	        <div style="display: flex; align-items: center; gap: 8px;">
	          <img th:if="${b.profileUrl != null}" th:src="${b.profileUrl}" class="badge-icon" alt="ë±ƒì§€ ì´ë¯¸ì§€" />
	          <span class="nickname" th:text="${b.nickName}"></span>
	        </div>
	      </td>
	      <td style="text-align: left;" th:text="${b.createDate}"></td>
	      <td style="text-align: left;" th:text="${b.viewCount}"></td>
	    </tr>
	  </tbody>
	</table>
    <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
    <ul class="pagination" th:if="${pi.endPage != 0}" th:object="${filterMap}">
      <li th:each="i : ${#numbers.sequence(pi.startPage,pi.endPage)}" th:classappend="${pi.currentPage == i ? ' active' : ''}" class="page-item">
        <a class="page-link" th:href="@{/board/lounge(currentPage=${i},typeName=*{typeName},condition=*{condition},keyword=*{keyword})}" th:text="${i}"></a>
      </li>
    </ul>
  </div>

  <div th:replace="common/footer :: footer"></div>

  <script th:inline="javascript">
  $(function () {
    const typeClass = /*[[${filterMap.typeClass}]]*/ 0;
    const decodedUrl = decodeURIComponent(window.location.href);
    const isJobTabActive = decodedUrl.includes("typeName=ì§ì—…");

    // ì§ì—… íƒ­ì´ë©´ íŒ€ íƒ­ ë³´ì—¬ì£¼ê¸°
    if (isJobTabActive || typeClass == 3) {
      $("#teamTabs").show();
      // í˜„ì¬ í™œì„±í™”ëœ íŒ€ì— ë§ì¶° ì—­í• íƒ­ ë³´ì—¬ì£¼ê¸°
      if ($("#roleTabs-mafia a.active").length) {
        $("#team-mafia").addClass("active");
        $("#roleTabs-mafia").show();
      } else if ($("#roleTabs-citizen a.active").length) {
        $("#team-citizen").addClass("active");
        $("#roleTabs-citizen").show();
      } else if ($("#roleTabs-third a.active").length) {
        $("#team-third").addClass("active");
        $("#roleTabs-third").show();
      } else {
        // ê¸°ë³¸ì€ ì „ì²´ íŒ€, ì—­í• íƒ­ ìˆ¨ê¹€
        $("#teamTabs a[data-team='all']").addClass("active");
        $(".role-tabs").hide();
      }
    } else {
      $("#teamTabs").hide();
      $(".role-tabs").hide();
    }

    // ì„œë¸Œíƒ­ í´ë¦­ (ì „ì²´, ììœ , í”Œë ˆì´, ì§ì—…)
    $(".sub-tabs a").on("click", function () {
      // ì—¬ê¸°ì„  í´ë¦­ í›„ í˜ì´ì§€ê°€ ì´ë™í•˜ë¯€ë¡œ, fade íš¨ê³¼ëŠ” ì‚¬ì‹¤ ì˜ë¯¸ê°€ ì—†ìŒ
      // í•˜ì§€ë§Œ ì´ë™ ì•ˆ í•  ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ ì‘ì„±

      // í•„í„°ë§µì— ì˜ì¡´í•˜ì§€ ë§ê³ , URLë¡œ íŒë‹¨í•˜ê±°ë‚˜ typeClass ì¬ì¡°íšŒ ê¶Œì¥
      if (typeClass == 3) {
        $("#teamTabs").fadeIn(200);
      } else {
        $("#teamTabs").fadeOut(200);
        $(".role-tabs").hide();
      }
    });

    // íŒ€ íƒ­ í´ë¦­ (ì „ì²´, íŒ€ ë§ˆí”¼ì•„, íŒ€ ì‹œë¯¼, íŒ€ ì œ3ì„¸ë ¥)
    $(".team-tab").on("click", function (e) {
      // ì´ë™ ë§‰ì§€ ì•Šê³  íƒ­ ìŠ¤íƒ€ì¼ë§Œ ë³€ê²½ (í•„ìš”ì‹œ e.preventDefault() ì¶”ê°€)
      $(".team-tab").removeClass("active");
      $(this).addClass("active");

      const team = $(this).data("team");

      $(".role-tabs").hide();

      if (team === "mafia") {
        $("#roleTabs-mafia").fadeIn(200);
      } else if (team === "citizen") {
        $("#roleTabs-citizen").fadeIn(200);
      } else if (team === "third") {
        $("#roleTabs-third").fadeIn(200);
      }
      // team === 'all'ì¸ ê²½ìš° ì—­í• íƒ­ ìˆ¨ê¹€
    });

  });
</script>
</body>
</html>
