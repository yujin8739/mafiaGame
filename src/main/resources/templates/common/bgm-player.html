<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>BGM Player</title>
</head>
<body>
<audio id="bgm" autoplay loop></audio>

<script>
    const bgm = document.getElementById('bgm');

    window.addEventListener('message', (event) => {
        const { type, value } = event.data;

        switch (type) {
            case 'PLAY':
                bgm.play();
                break;
            case 'PAUSE':
                bgm.pause();
                break;
            case 'MUTE':
                bgm.muted = true;
                break;
            case 'UNMUTE':
                bgm.muted = false;
                break;
            case 'SET_VOLUME':
                bgm.volume = value;
                break;
        }
    });

    // 초기 볼륨 설정
    const savedVolume = localStorage.getItem("bgmVolume") || 0.4;
    bgm.volume = parseFloat(savedVolume);
    bgm.src = '/music/simple_melody.mp3'; // 🔊 실제 음악 파일 경로
</script>
</body>
</html>